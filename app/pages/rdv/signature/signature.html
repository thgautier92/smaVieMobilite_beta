<!--
  Generated template for the DiagConseilPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar secondary>
    <ion-title>
      <ion-icon name="wifi"></ion-icon> Signatures des documents</ion-title>
    <ion-buttons end>
      <button (click)="close()">Fermer</button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content padding class="signature">
  <div *ngFor="let f of lstForms">
    <flex-list *ngIf="f.pres=='list'" [idPage]=idPage [idForm]=f.id [formTitle]=f.title [dataIn]=dataIn [idClient]=idClient></flex-list>
    <flex-input *ngIf="f.pres=='detail'" [idPage]=idPage [idForm]=f.id [formTitle]=f.title [dataIn]=dataIn [idClient]=idClient></flex-input>
  </div>
  <ion-card>
    <ion-card-header light>
      <ion-item>
        <ion-select [(ngModel)]="srv" cancelText="Annuler" okText="Choisir!" (ngModelChange)="getTemplates()">
          <ion-option value="">== Choisir un service ==</ion-option>
          <ion-option *ngFor="let item of lstSign" [value]="item">{{item}}</ion-option>
        </ion-select>
        <ion-label>Signature avec le fournisseur</ion-label>
      </ion-item>
      <ion-item>
        <ion-select [(ngModel)]="docSign" cancelText="Annuler" okText="Choisir!">
          <ion-option value="">== Choisir le document à signer ==</ion-option>
          <ion-option *ngFor="let item of lstDocSign" [value]="item">{{item.name}}</ion-option>
        </ion-select>
        <ion-label>Documents à signer</ion-label>
      </ion-item>
    </ion-card-header>
    <ion-card-content>
      <ion-item text-wrap>
        <button (click)="startIdNum()">1. Création de l'identité numérique</button>
        <button (click)="startSign()">2. Envoie du document et des données pour signature</button>
        <button (click)="loadDocSign()">3. Récupération du document signé</button>
        <button (click)="loadProofSign()">4. Recupération de la preuve</button>
      </ion-item>
      <ion-list-header>
        Informations retournées
      </ion-list-header>
      <ion-item>
      </ion-item>
    </ion-card-content>
  </ion-card>
</ion-content>